var height=500,width=800,padding=50,wrapper=d3.select("#wrapper"),viz=wrapper.append("svg").attr({id:"viz",height:height,width:width,margin:"auto"}),nameSizeScale=d3.scale.linear().range([0+padding,width-padding]);d3.json("people.json",function(t,e){dots=viz.selectAll("circle"),dots=dots.data(e),dots=dots.enter(),dots=dots.append("circle"),dots=dots.attr("class","person");var n=d3.extent(e,function(t){return parseInt(t.firstname.length)});nameSizeScale.domain(n),dots.attr({r:8,cx:function(t,e){return nameSizeScale(t.firstname.length)},cy:function(t,e){return e},fill:function(t,e){return"m "===t.sex?"#059cdd":"#A40802"},stroke:function(t,e){return"m "===t.sex?"#086F9C":"#630B08"},personName:function(t){return t.firstname},personCity:function(t){return t.city}})});var tooltip=document.getElementById("tooltip");document.body.addEventListener("mousemove",function(t){var e=t.pageY-tooltip.clientHeight,n=t.pageX-tooltip.clientWidth;tooltip.style.left=n+"px",tooltip.style.top=e+"px"});var circles=document.getElementById("viz");circles.addEventListener("mouseover",function(t){clickedCircle=t.target;var e=clickedCircle.getAttribute("personName")||"",n=clickedCircle.getAttribute("personCity")||"";tooltip.style.display="inline-block",tooltip.innerText=e+"\n"+n});